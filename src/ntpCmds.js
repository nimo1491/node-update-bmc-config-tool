import chalk from 'chalk';
import childProcess from 'child_process';
import { singleLineString } from './utils';

export default function setNtpCmds(ipAddr, username, password) {
  // Set Timezone to GMT+8
  console.log(chalk.blue('Set Timezone to GMT+8'));
  if (process.env.NODE_ENV === 'development') {
    console.log(singleLineString`ipmitool -H ${ipAddr} -U ${username} -P ${password}
      raw 0x32 0xa5 0x47 0x4d 0x54 0x2b 0x38 0x00`
    );
  } else {
    childProcess.execSync(singleLineString`ipmitool -H ${ipAddr} -U ${username} -P ${password}
      raw 0x32 0xa5 0x47 0x4d 0x54 0x2b 0x38 0x00`,
      { stdio: [0, 1, 2] }
    );
  }

  // Set NTP IP to 10.70.32.201
  console.log(chalk.blue('Set NTP Server: 10.70.32.201'));
  if (process.env.NODE_ENV === 'development') {
    console.log(singleLineString`ipmitool -H ${ipAddr} -U ${username} -P ${password}
      raw 0x32 0xa8 0x01
      0x31 0x30 0x2e 0x37 0x30 0x2e 0x33 0x32 0x2e 0x32 0x30 0x31 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00`
    );
  } else {
    childProcess.execSync(singleLineString`ipmitool -H ${ipAddr} -U ${username} -P ${password}
      raw 0x32 0xa8 0x01
      0x31 0x30 0x2e 0x37 0x30 0x2e 0x33 0x32 0x2e 0x32 0x30 0x31 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00`,
      { stdio: [0, 1, 2] }
    );
  }

  // Set NTP IP to 10.70.32.202
  console.log(chalk.blue('Set NTP Server: 10.70.32.202'));
  if (process.env.NODE_ENV === 'development') {
    console.log(singleLineString`ipmitool -H ${ipAddr} -U ${username} -P ${password}
      raw 0x32 0xa8 0x02
      0x31 0x30 0x2e 0x37 0x30 0x2e 0x33 0x32 0x2e 0x32 0x30 0x32 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00`
    );
  } else {
    childProcess.execSync(singleLineString`ipmitool -H ${ipAddr} -U ${username} -P ${password}
      raw 0x32 0xa8 0x02
      0x31 0x30 0x2e 0x37 0x30 0x2e 0x33 0x32 0x2e 0x32 0x30 0x32 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
      0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00`,
      { stdio: [0, 1, 2] }
    );
  }
}
